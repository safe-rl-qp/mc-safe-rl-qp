#
# Copyright 2015-2019 CNRS-UM LIRMM, CNRS-AIST JRL
#

set(BINDINGS_LIBRARIES
    mc_control_fsm
    mc_control
    mc_observers
    mc_rbdyn
    mc_rtc_loader
    mc_rtc_utils
    mc_rtc_gui
    mc_solver
    mc_tasks
    mc_trajectory
    mc_control_client
)
if(WIN32)
  list(
    APPEND
    BINDINGS_LIBRARIES
    ltdl
    RBDyn::RBDyn
    RBDyn::Parsers
    Tasks::Tasks
    spdlog::spdlog
  )
endif()

make_cython_bindings(
  mc_rtc
  TARGETS
  ${BINDINGS_LIBRARIES}
  VERSION
  ${PROJECT_VERSION}
  MODULES
  mc_control.mc_control
  mc_control.fsm.fsm
  mc_observers.mc_observers
  mc_rbdyn.mc_rbdyn
  mc_rtc.mc_rtc
  mc_rtc.gui.gui
  mc_solver.mc_solver
  mc_tasks.mc_tasks
  mc_tasks.force.force
  EXPORT_SOURCES
  mc_control/fsm/__init__.py
  mc_control/fsm/c_fsm.pxd
  mc_control/fsm/fsm.pxd
  mc_control/__init__.py
  mc_control/c_mc_control.pxd
  mc_control/mc_control.pxd
  mc_observers/__init__.py
  mc_observers/c_mc_observers.pxd
  mc_observers/mc_observers.pxd
  mc_rbdyn/__init__.py
  mc_rbdyn/c_mc_rbdyn.pxd
  mc_rbdyn/mc_rbdyn.pxd
  mc_rtc/gui/__init__.py
  mc_rtc/gui/c_gui.pxd
  mc_rtc/gui/gui.pxd
  mc_rtc/__init__.py
  mc_rtc/c_mc_rtc.pxd
  mc_rtc/mc_rtc.pxd
  mc_solver/__init__.py
  mc_solver/c_mc_solver.pxd
  mc_solver/mc_solver.pxd
  mc_tasks/force/__init__.py
  mc_tasks/force/c_force.pxd
  mc_tasks/force/force.pxd
  mc_tasks/__init__.py
  mc_tasks/mc_tasks.pxd
  mc_tasks/c_mc_tasks.pxd
  PRIVATE_SOURCES
  include/mc_control_fsm_wrapper.hpp
  include/mc_control_wrapper.hpp
  include/mc_rtc_gui_wrapper.hpp
  include/mc_rtc_wrapper.hpp
  include/mc_solver_wrapper.hpp
  include/mc_rbdyn_wrapper.hpp
  include/mc_tasks_force_wrapper.hpp
  mc_control/fsm/fsm.pyx
  mc_control/mc_control.pyx
  mc_observers/mc_observers.pyx
  mc_rbdyn/mc_rbdyn.pyx
  mc_rtc/gui/gui.pyx
  mc_rtc/mc_rtc.pyx
  mc_solver/mc_solver.pyx
  mc_tasks/force/force.pyx
  mc_tasks/mc_tasks.pyx
  mc_tasks/com_trajectory_task.pxi
  mc_tasks/position_trajectory_task.pxi
  mc_tasks/orientation_trajectory_task.pxi
  mc_tasks/vector_orientation_trajectory_task.pxi
  tests/test_mc_rtc.py
  GENERATE_SOURCES
  tests/test_mc_tasks.py
)
